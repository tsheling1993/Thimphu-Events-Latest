{"version":3,"sources":["webpack:///./src/app/movieadmin/movieadmin.module.ts","webpack:///./src/app/movieadmin/movieadmin.page.html","webpack:///./src/app/movieadmin/movieadmin.page.scss","webpack:///./src/app/movieadmin/movieadmin.page.ts"],"names":[],"mappings":"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","file":"movieadmin-movieadmin-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MovieadminPage } from './movieadmin.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MovieadminPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MovieadminPage]\n})\nexport class MovieadminPageModule {}\n","module.exports = \"<ion-header >\\n  <ion-toolbar color=\\\"tertiary\\\">\\n    <ion-buttons>\\n    <ion-button (click)=\\\"openMenu()\\\" style=\\\"color:white;\\\"><ion-icon name=\\\"menu\\\"></ion-icon></ion-button>\\n    <ion-back-button style=\\\"color:white;\\\"></ion-back-button>\\n    <ion-title id=\\\"title\\\" style=\\\"color:white;\\\">Movie Admin</ion-title>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content padding>\\n    <ion-list *ngFor='let data of movie'>\\n          <ion-row>\\n              <ion-col size=\\\"6\\\">\\n                  {{data.movietitle}}\\n              </ion-col>\\n              <ion-col size=\\\"3\\\">\\n                  <ion-button class=\\\"btnstyle\\\" (click)=\\\"goDelete(data.movietitle,data.name)\\\" color=\\\"danger\\\">Delete</ion-button>\\n              </ion-col>\\n              <ion-col size=\\\"3\\\">\\n                  <ion-button class=\\\"btnstyle\\\" (click)=\\\"goEdit(data.movietitle)\\\" color=\\\"secondary\\\">Edit</ion-button>\\n              </ion-col>\\n          </ion-row>   \\n    </ion-list>\\n    <p button=\\\"true\\\" (click)=\\\"goAddMore()\\\" style=\\\"color:dodgerblue\\\">Add more...</p>\\n</ion-content>\\n\"","module.exports = \".m-style {\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: teal; }\\n\\n.btnstyle {\\n  text-transform: none; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AlertController, NavController, MenuController, LoadingController } from '@ionic/angular';\nimport { DatePicker } from '@ionic-native/date-picker/ngx';\nimport { UploadpicService } from '../../services/uploadpic/uploadpic.service';\nimport { Upload } from '../../models/upload/upload';\nimport * as _ from 'lodash';\nimport { ThrowStmt } from '@angular/compiler';\nimport { Firebase } from '@ionic-native/firebase/ngx';\nimport { AngularFireStorage, AngularFireStorageReference } from '@angular/fire/storage';\n\n@Component({\n  selector: 'app-movieadmin',\n  templateUrl: './movieadmin.page.html',\n  styleUrls: ['./movieadmin.page.scss'],\n})\nexport class MovieadminPage implements OnInit {\n  movieTitle : any;\n  movieVenue : any;\n  movieTime : any;\n  startDate : any;\n  endDate : any;\n  moviePrice : any;\n  movieContact : any;\n  movieTailor : any;\n  date : any;\n  movieData:any[]=[];\n  title:any;\n  desc:any;\n  selectedFiles: FileList;\n  currentUpload: Upload;\n  movie:any[]=[];\n  movieList: Array<any[]>;\n  showaddnew : boolean = false;\n  constructor(private fs : AngularFirestore,\n    private altCtl : AlertController,\n    private navCtl : NavController,\n    private fstorage:AngularFireStorage,\n    private datePicker: DatePicker,\n    private uploadServ: UploadpicService,\n    private menu:MenuController,\n    public loadingController: LoadingController,\n    private firebase: Firebase) { \n      this.presentLoading();\n      this.fs.collection('/movies',ref=>ref.orderBy('createdAt', 'desc')).get().subscribe(res=>\n        {\n          res.forEach((doc:any)=>\n        {\n          this.movie.push({\n            movietitle:doc.data().movietitle,\n            venue:doc.data().venue,\n            time : doc.data().time,\n            startdate :doc.data().startdate,\n            enddate : doc.data().enddate,\n            price : doc.data().price,\n            contact : doc.data().contact,\n            tailor : doc.data().tailor,\n            name: doc.data().name\n          })\n          // this.movieList.push(this.movie);\n          console.log(\"movie data: \"+this.movie);\n          if(this.movie){\n            console.log(\"up\");\n            this.loadingController.dismiss();      \n          }\n        });\n        })\n       \n    }\n\n  ngOnInit() {\n  }\n\n  openMenu(){\n    this.menu.toggle('myMenu');\n  }\n\n  async alert(header:string,message:string)\n  {\n    const alert=await this.altCtl.create({\n      header:header,\n      message: message,\n      cssClass:'ok',\n      buttons:['OK']\n    });\n    alert.present();\n  }\n  pickDate(){\n    this.datePicker.show({\n      date: new Date(),\n      mode: 'date',\n      // androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK\n      androidTheme : this.datePicker.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT\n    }).then(\n      date =>{\n        let dateArray=date.toString().split(' ');\n        this.startDate=dateArray[0]+\" \"+dateArray[1]+\" \"+dateArray[2]+\" \"+dateArray[3]\n        err => console.log('Error occurred while getting date: ', err)\n      }\n    \n      //console.log('Got date: ', date),\n      \n      \n    );\n  }\n  pickEndDate(){\n    this.datePicker.show({\n      date: new Date(),\n      mode: 'date',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK\n    }).then(\n      date => \n      {\n        let dateArray=date.toString().split(' ');\n        this.endDate=dateArray[0]+\" \"+dateArray[1]+\" \"+dateArray[2]+\" \"+dateArray[3]\n        err => console.log('Error occurred while getting date: ', err)\n      }\n      \n    );\n  }\n  goAddMore(){\n    this.navCtl.navigateForward('/movieaddmore');\n  }\n  //for deleting the movie item\n  goDelete(movietitle:any, name: any){\n    this.presentAlertConfirm(movietitle, name)\n  }\n\n  deleteSure(movietitle:any,name:any){\n    let basePath:string=\"/movies\";\n    this.fs.collection(`${basePath}`).doc(`${movietitle}`).delete().then(data=>\n      {\n          this.alert(\"For Information\",\"Deletion successful\");\n          this.navCtl.navigateForward('/movies');\n      }\n      )\n     this.fstorage.storage.ref(`${basePath}/${name}`).delete();\n  }\n  //for updating the item\n  goEdit(movietitle : any){\n    console.log(movietitle);\n    this.navCtl.navigateForward('/movieupdate/'+movietitle);\n  }\n\n  async presentAlertConfirm(movietitle:any, name: any) {\n    const alert = await this.altCtl.create({\n      header: 'Confirm!',\n      message: 'Are you sure you want to delete?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Yes',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.deleteSure(movietitle, name)\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n     // message: 'Hellooo',\n      duration: 15000,\n      spinner: 'crescent',\n      cssClass: 'loaderClass'\n    });\n    return await loading.present();\n  }\n}\n"],"sourceRoot":""}