{"version":3,"sources":["webpack:///./src/app/tdriverdashboard/tdriverdashboard.module.ts","webpack:///./src/app/tdriverdashboard/tdriverdashboard.page.html","webpack:///./src/app/tdriverdashboard/tdriverdashboard.page.scss","webpack:///./src/app/tdriverdashboard/tdriverdashboard.page.ts"],"names":[],"mappings":"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","file":"tdriverdashboard-tdriverdashboard-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TdriverdashboardPage } from './tdriverdashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TdriverdashboardPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TdriverdashboardPage]\n})\nexport class TdriverdashboardPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"tertiary\\\">\\n      <ion-buttons>\\n          <ion-button (click)=\\\"openMenu()\\\" style=\\\"color:white;\\\"><ion-icon name=\\\"menu\\\"></ion-icon></ion-button>\\n        <ion-back-button style=\\\"color:rgb(255, 255, 255);\\\"></ion-back-button>\\n        <ion-title style=\\\"color:white;\\\"><b>Driver Dashboard</b></ion-title>\\n        <ion-button style=\\\"--background:transparent;\\\" (click)=\\\"openOptions()\\\" slot=\\\"right\\\"><ion-icon name=\\\"options\\\"></ion-icon></ion-button>\\n      </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <br>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"4\\\"><ion-label><b>Vehicle No:</b></ion-label></ion-col>\\n      <ion-col size=\\\"5\\\"><ion-label>{{vehicleno}}</ion-label></ion-col>\\n      <ion-col size=\\\"3\\\"><ion-label style=\\\"color:dodgerblue;\\\" (click)=\\\"logout()\\\">Logout</ion-label></ion-col>\\n      <!-- <ion-button color=\\\"secondary\\\"  expand=\\\"full\\\">Log Out</ion-button> -->\\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid>\\n    <div style=\\\"text-align: center;color:teal\\\"><b>SET DETAILS</b></div>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\"><br><b>From:</b></ion-col>\\n      <ion-col size=\\\"7\\\">\\n          <ion-select class=\\\"input_border\\\" interface=\\\"popover\\\" placeholder=\\\"Select Location\\\" [(ngModel)]=\\\"routeFrom\\\">\\n            <ion-select-option value=\\\"town\\\">Town</ion-select-option>       \\n            <ion-select-option value=\\\"changjiji\\\">Changjiji</ion-select-option>       \\n            <ion-select-option value=\\\"changzamtog\\\">Changzamtog</ion-select-option>       \\n            <ion-select-option value=\\\"babesa\\\">Babesa</ion-select-option>       \\n            <ion-select-option value=\\\"olakha\\\">Olakha</ion-select-option>       \\n            <ion-select-option value=\\\"motithang\\\">Motithang</ion-select-option>      \\n          </ion-select>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\"><br><b>To:</b></ion-col>\\n      <ion-col size=\\\"7\\\">\\n        <ion-select class=\\\"input_border\\\" interface=\\\"popover\\\" placeholder=\\\"Select Destination\\\" [(ngModel)]=\\\"routeTo\\\">\\n          <ion-select-option value=\\\"town\\\">Town</ion-select-option>       \\n          <ion-select-option value=\\\"changjiji\\\">Changjiji</ion-select-option>       \\n          <ion-select-option value=\\\"changzamtog\\\">Changzamtog</ion-select-option>       \\n          <ion-select-option value=\\\"babesa\\\">Babesa</ion-select-option>       \\n          <ion-select-option value=\\\"olakha\\\">Olakha</ion-select-option>       \\n          <ion-select-option value=\\\"motithang\\\">Motithang</ion-select-option>      \\n        </ion-select>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\"><br><b>Type:</b></ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-select class=\\\"input_border\\\" interface=\\\"popover\\\" placeholder=\\\"Select Type\\\" [(ngModel)]=\\\"wasteType\\\">\\n          <ion-select-option value=\\\"wet\\\">Wet</ion-select-option>       \\n          <ion-select-option value=\\\"dry\\\">Dry</ion-select-option>       \\n          <ion-select-option value=\\\"both\\\">Both</ion-select-option>             \\n        </ion-select>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"6\\\"><b>Descriptions:</b> </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"10\\\"> \\n        <ion-textarea class=\\\"input_border\\\" placeholder=\\\"Write other details (Optional)\\\" [(ngModel)]=\\\"details\\\"></ion-textarea>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row padding>\\n      <ion-col size=\\\"5\\\"> \\n        <ion-button color=\\\"tertiary\\\" (click)=\\\"start()\\\" expand=\\\"full\\\">Start</ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"5\\\"> \\n        <ion-button color=\\\"tertiary\\\" [disabled]=\\\"stopButton\\\" (click)=\\\"stop()\\\" expand=\\\"full\\\">Stop</ion-button>        \\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\"","module.exports = \".input_border {\\n  border-style: solid;\\n  border-width: 1px;\\n  border-radius: 5px;\\n  border-color: teal; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { AlertController, MenuController, NavController, Platform } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Firebase } from '@ionic-native/firebase/ngx';\nimport { ActivatedRoute,NavigationEnd,Router } from '@angular/router';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Subscription } from 'rxjs';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\nimport { BackgroundMode } from '@ionic-native/background-mode/ngx';\n\n@Component({\n  selector: 'app-tdriverdashboard',\n  templateUrl: './tdriverdashboard.page.html',\n  styleUrls: ['./tdriverdashboard.page.scss'],\n})\nexport class TdriverdashboardPage implements OnInit {\n\n  vehNo: any;\n  routeFrom: any=\"\";\n  routeTo: any=\"\";\n  vehicleno:any;\n  from:any;\n  type:any;\n  detailPH:any;\n  wasteType:any=\"\";\n  details:any=\"\";\n  geoSubscription: Subscription;\n  to:any;\n\n  stopButton: boolean = true;\n\n  constructor(\n    private firebase: Firebase,\n    public afs: AngularFirestore,\n    public route: ActivatedRoute,\n    public router: Router,\n    public alertCtrl: AlertController,\n    public geolocation: Geolocation,\n    private menu: MenuController,\n    public natStor: NativeStorage,\n    private navCtl : NavController,\n    public backgroundMode: BackgroundMode,\n    private platform: Platform,\n  ) { \n    this.vehicleno=this.route.snapshot.params['vehno'];\n    this.router.events.subscribe((e:any)=>\n  {\n    if(e instanceof NavigationEnd)\n    {\n      this.loadData();\n    }\n  })\n\n  this.platform.ready().then(() => {\n    this.backgroundMode.enable();    \n  });\n  }\n\n  ngOnInit() {\n    this.loadData();\n  }\n  openMenu(){\n    this.menu.toggle('myMenu');\n  }\n\n  loadData()\n  {\n    this.afs.collection('t_garbage_trucks').doc(`${this.vehicleno}`).get().subscribe(\n      res=>\n      {\n        this.from=res.data().from;\n        this.to=res.data().to;\n        this.type=res.data().type;\n        this.detailPH=res.data().details;\n        console.log(\"from=\"+res.data().from+\" and \"+this.from);\n        \n        this.routeFrom = res.data().from;    \n        this.routeTo = res.data().to;\n        this.wasteType = res.data().type;    \n        this.details = res.data().details;     \n      }\n\n    )\n  }\n\n  async openOptions()\n  {\n    const alert= await this.alertCtrl.create(\n      {\n        header:'Admin Options',\n        message:'Clear Field Details',\n        cssClass: 'alert',\n        buttons:[\n          {\n            text:'Cancel',\n            role:'cancel',\n            handler:()=>{}\n          },\n          {\n            text:'Clear',\n            handler:()=>\n            {\n              this.afs.collection('t_garbage_trucks').doc(`${this.vehicleno}`).update(\n                {\n                  from:'Select Source',\n                  to:'Select Destination',\n                  type:'Not Set',\n                  details: 'No Details'\n                }\n              )\n            }\n          }\n        ]\n        \n      }\n    )\n    alert.present();\n  }\n\n  start()\n  {\n    if(this.routeFrom==\"\"||this.routeTo==\"\"||this.wasteType==\"\")\n    {\n      this.alertGeneral(\"Empty Field(s)\",'Fields \"From\",\"To\", and \"Waste Type\" are mandatory.');\n    }\n    else if(this.details==\"\")\n    {\n      this.stopButton = false;\n\n      this.backgroundMode.enable();\n      this.backgroundMode.setDefaults({ \n        text:'Your Location Details are tracked'\n      });\n      this.afs.collection('t_garbage_trucks').doc(`${this.vehicleno}`).update(\n        {\n          from:this.routeFrom,\n          to:this.routeTo,\n          type:this.wasteType,\n          details:'No Details'\n\n        }\n      ).then(()=>\n    {\n      this.alertGeneral(\"Journey Started\",\"Details of this truck's journey are now Online\");\n    }).catch(()=>\n      {\n        this.alertGeneral(\"Error\",\"No Internet Connection\")\n      });\n      this.geoSubscription=this.geolocation.watchPosition().subscribe(data=>\n        {\n          console.log('running geolocation');\n          this.afs.collection('t_garbage_trucks').doc(`${this.vehicleno}`).update(\n            {\n              latitude:data.coords.latitude,\n              longitude:data.coords.longitude\n            }\n          )\n        });\n    }\n    else{\n\n      this.stopButton = false;\n      \n      this.backgroundMode.enable();\n      this.backgroundMode.setDefaults({ \n        text:'Your Location Details are tracked'\n      });\n      this.afs.collection('t_garbage_trucks').doc(`${this.vehicleno}`).update(\n        {\n          from:this.routeFrom,\n          to:this.routeTo,\n          type:this.wasteType,\n          details:this.details,\n        }\n      ).then(()=>\n      {\n        this.alertGeneral(\"Journey Started\",\"Details of this truck's journey are now online\");\n      }).catch(()=>\n      {\n        this.alertGeneral(\"Error\",\"No Internet Connection\");\n      });\n      this.geoSubscription=this.geolocation.watchPosition().subscribe(data=>\n        {\n          console.log(\"running geolocation\")\n          this.afs.collection('t_garbage_trucks').doc(`${this.vehicleno}`).update(\n            {\n              latitude:data.coords.latitude,\n              longitude:data.coords.longitude\n            }\n          )\n        });  \n    }\n  }\n\n  stop()\n  {\n    this.geoSubscription.unsubscribe();\n  }\n\n  async alertGeneral(header:any,message:any)\n  {\n    const alert= await this.alertCtrl.create(\n      {\n        header:header,\n        message:message,\n        cssClass:'alert',\n        buttons:['Okay']\n      }\n    )\n    alert.present();\n  }\n\n  logout(){\n    this.natStor.remove('drivertok');\n    this.navCtl.navigateForward('/thromdedriver');    \n  }\n}"],"sourceRoot":""}